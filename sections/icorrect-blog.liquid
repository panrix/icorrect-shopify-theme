<section class="icorrect-blog-{{ section.id }}">
  <div class="icorrect-blog-wrapper page-width">
    <div class="icorrect-blog-info-row">
      <div class="icorrect-info-col">
        <h2>{{ section.settings.heading }}</h2>
        {{ section.settings.details }}
      </div>
    </div>
    <div class="icorrect-articles-row">
      {%- for article in section.settings.blog.articles limit: section.settings.post_limit -%}
        <div class="icorrect-article-col">
          <div class="icorrect-article-img">
            <img class="{% if article.metafields.custom.enable_blog_post_video == true %}hide-img{% endif %}" src="{{ article.image | img_url: 'master' }}" alt="image" loading="lazy">
            {% if article.metafields.custom.enable_blog_post_video == true %}
            <video class="cust_video cust_video_auto" width="100%" height="auto" autoplay="true" loop="true" controls="false" playsinline="" muted="true" data-src-all="image" 
              src="{{ article.metafields.custom.blog_post_video | file_url }}">
             </video>
            {% endif %}
          </div>
          <h3>{{ article.title }}</h3>
          {% if section.settings.enable_description %}
          <p>{{ article.excerpt }}</p>
          {% endif %}
          <div class="icorrect-article-link">
            <a href="{{ article.url }}">Read More
            <span><img src="https://cdn.shopify.com/s/files/1/0754/5903/5403/files/btn-arrow.png?v=1723999628" alt=""></span>
            </a>
          </div> 
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
 .icorrect-blog-wrapper .hide-img{ display: none;}
  .icorrect-blog-{{ section.id }}{
    padding-top: {{ section.settings.padding-top }}px;
    padding-bottom: {{ section.settings.padding-bottom }}px;
    width: 100%;
    background-color: {{ section.settings.bg }};
  }
  .icorrect-blog-info-row{
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    padding-bottom: 30px;
  }
  .icorrect-info-col{
    flex: 50%;
    max-width: 50%;
    text-align: left;
  }
  .icorrect-info-col h2{
font-size: 28px;
font-weight: 600;
line-height: 45.67px;
text-align: left;
color: #fff;
    margin: 0;
    padding: 0;
    padding-bottom: 8px;
  }
  .icorrect-info-col p{
font-size: 17px;
font-weight: 400;
line-height: 1.65;
letter-spacing: 0;
text-align: left;
margin: 0;
    padding: 0;
    padding-bottom: 0px;
    color: #fff;
  }
  .icorrect-btn-col{
    flex: 50%;
    max-width: 50%;
    text-align: right;
    align-self: flex-end;
  }
  .icorrect-btn-col a{
    background-color: #fff;
    color: #1D1D1F;
    padding: 12px 15px 10px 15px;
    font-size: 16px;
    font-weight: 400;
    line-height: 1;
    text-align: center;
    text-decoration: none;
    display: inline-block;
  }
  .icorrect-articles-row{
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    flex-wrap: wrap;
  }
  .icorrect-article-col{
    flex: 30.7698%;
    max-width: 30.7698%;
  }
  .icorrect-article-img{
    width: 100%;
  }
  .icorrect-article-img img,
  .icorrect-article-img video{
    width: 100%;
    height: 280px;
    object-fit: cover;
    object-position: center;
  }
  .icorrect-article-col h3{
font-size: 18px;
font-weight: 600;
line-height: 28px;
letter-spacing: 0.05em;
text-align: left;
color: #fff;
    margin: 0;
    padding: 0;
    padding-bottom: 15px;
  }
  .icorrect-article-col p{
font-size: 15px;
font-weight: 400;
line-height: 1.6;
letter-spacing: 0;
text-align: left;
color: #fff;
    margin: 0;
    padding: 0;
    padding-bottom: 15px;
  }
  .icorrect-article-link{
    width: 100%;
    text-align: left;
  }
  .icorrect-article-link a{
    display: flex;
  column-gap: 5px;
  justify-content: flex-start;
color: #fff;
font-size: 16px;
font-weight: 400;
line-height: 25.34px;
text-align: left;
text-decoration: none;
    
  }
  .icorrect-article-link a img {
  max-width: 21px;
  height: 9px;
}
  @media(max-width: 767px){
    .icorrect-blog-{{ section.id }}{
    padding-top: {{ section.settings.mob-padding-top }}px;
    padding-bottom: {{ section.settings.mob-padding-bottom }}px;
    }
    .icorrect-article-col{
    flex: 100%;
    max-width: 100%;
      padding-bottom: 30px;
  }
    .icorrect-info-col{
      flex: 100%;
    max-width: 100%;
      padding-bottom: 15px;
    }
    .icorrect-btn-col{
    flex: 100%;
    max-width: 100%;
    text-align: left;
    align-self: flex-start;
  }
   .icorrect-info-col h2{
font-size: 24px;
font-weight: 600;
line-height: 1.3;
text-align: left;
padding-bottom: 10px;
    }
    .icorrect-info-col p{
      padding-bottom: 15px;
      font-size: 16px;
      font-weight: 400;
      line-height: 1.6;
      letter-spacing: 0;
      text-align: left;

    }
    .icorrect-btn-col a{
    padding: 0;
      width: 143px;
    height: 43px;
    display: flex;
    align-items: center;
    justify-content: center;
    }
   .icorrect-article-col p {
      
font-size: 14px;
font-weight: 400;
line-height: 1.5;
letter-spacing: 0;
text-align: left;

    }
  }
</style>

{% schema %}
  {
    "name": "iCorrect Blog",
    "settings": [
      {
         "type": "range",
         "id": "padding-top",
         "label": "Section Top Padding",
         "default": 50,
         "min": 0,
         "max": 100,
         "step": 5,
         "unit": "px"
       },
       {
         "type": "range",
         "id": "padding-bottom",
         "label": "Section Bottom Padding",
         "default": 50,
         "min": 0,
         "max": 100,
         "step": 5,
         "unit": "px"
       },
       {
         "type": "range",
         "id": "mob-padding-top",
         "label": "Section Top Padding",
         "default": 40,
         "min": 0,
         "max": 100,
         "step": 5,
         "unit": "px"
       },
       {
         "type": "range",
         "id": "mob-padding-bottom",
         "label": "Section Bottom Padding",
         "default": 40,
         "min": 0,
         "max": 100,
         "step": 5,
         "unit": "px"
       },
       {
         "type": "color",
         "id": "bg",
         "label": "Section BG Color",
         "default": "#1D1D1F"
       },
       {
         "type": "text",
         "id": "heading",
         "label": "Heading",
         "default": "Learn more about lorem ipsum"
       },
       {
         "type": "richtext",
         "id": "details",
         "label": "Details",
         "default": "<p>Select the repair you need to find out more.</p>"
       },
       {
         "type": "url",
         "id": "link",
         "label": "Button Link"
       },
       {
         "type": "text",
         "id": "btn",
         "label": "Button Label",
         "default": "Read Our Blog"
       },
       {
         "type": "blog",
         "id": "blog",
         "label": "Blog"
       },
       {
         "type": "checkbox",
         "id": "enable_description",
         "label": "Enable Blog Description",
         "default": true
       },
       {
          "type": "range",
          "id": "post_limit",
          "min": 2,
          "max": 4,
          "step": 1,
          "default": 3,
          "label": "Blog Limit"
        }
    ],
  "presets": [
    {
      "name": "iCorrect Blog", 
      "category": "section"
    }
  ]
}
{% endschema %}